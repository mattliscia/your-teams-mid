<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Does Your Team Suck? | NFL, NBA, MLB, NHL Championship Performance Analysis</title>
    <meta name="description" content="Find out if your favorite sports team underperforms or overperforms based on expected championships. Analyze NFL, NBA, MLB, and NHL teams' historical performance.">
    <meta name="keywords" content="NFL championships, NBA championships, MLB championships, NHL championships, sports analysis, team performance, championship expectations">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourteamsmid.com/">
    <meta property="og:title" content="Does Your Team Suck? | Sports Championship Analysis">
    <meta property="og:description" content="Discover if your favorite sports team performs above or below expectations based on historical championship data.">
    <meta property="og:image" content="[Your OG Image URL]">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yourteamsmid.com/">
    <meta property="twitter:title" content="Does Your Team Suck? | Sports Championship Analysis">
    <meta property="twitter:description" content="Discover if your favorite sports team performs above or below expectations based on historical championship data.">
    <meta property="twitter:image" content="[Your Twitter Card Image URL]">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Existing style imports -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Existing styles -->
    <style>
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 300px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-weight: normal;
            font-size: 0.75rem;
            text-transform: none;
            white-space: normal;
        }

        /* Adjust position when tooltip would be cut off */
        @media (max-width: 768px) {
            .tooltip .tooltip-text {
                left: auto;
                right: 0;
                transform: translateX(0);
            }
            
            .tooltip .tooltip-text::after {
                left: auto;
                right: 10px;
            }
        }

        /* Ensure tooltip stays within table container */
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
            /* Ensure tooltip stays within viewport */
            left: auto;
            right: 0;
            transform: translateX(0);
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: auto;
            right: 10px;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        /* Tab Styles */
        .tab-button {
            padding: 0.75rem 0.5rem;  /* Reduced padding for mobile */
            color: #4B5563;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        @media (min-width: 768px) {
            .tab-button {
                padding: 0.75rem 1.5rem;  /* Larger padding on desktop */
            }
        }

        .tab-button:hover {
            color: #1F2937;
        }

        .tab-button.active {
            color: #2563EB;
            border-bottom: 2px solid #059669;
            font-weight: 500;
        }

        .tab-button span {
            font-size: 1rem;  /* Smaller text on mobile */
        }

        @media (min-width: 768px) {
            .tab-button span {
                font-size: 1.5rem;  /* Larger text on desktop */
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-gradient-to-r from-emerald-600 to-emerald-700">
        <div class="container mx-auto px-4 py-8">
            <div class="text-left">
                <h1 class="text-4xl md:text-6xl font-bold text-white mb-2">
                    Does Your Team Suck?
                </h1>
                <p class="text-xl text-emerald-100">... probably</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-12">

        <!-- <div id="top-ad-placeholder" class="mb-8"></div> -->

        <!-- How it Works Button -->
        <div class="flex justify-center mb-8">
            <button onclick="toggleHowItWorks()" class="flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors">
                <span>How It Works</span>
                <i id="howItWorksIcon" class="fas fa-chevron-down transition-transform duration-200"></i>
            </button>
        </div>

        

        <!-- How it Works Content (Hidden by default) -->
        <div id="howItWorksContent" class="max-w-3xl mx-auto mb-12 text-gray-600 text-center hidden">
            <p class="mb-4">
                Ever wondered if your favorite team is really as good (or bad) as you think? We analyze championship performance 
                across major sports leagues and compare actual championships won against expected championships 
                based on team history and league size.
            </p>
            <p class="text-sm">
                Our analysis takes into account factors like how long each team has been in the league and how many teams they 
                competed against each year. A team's expected championships are calculated using a 1/N chance each season, 
                where N is the number of teams in the league that year.
            </p>
        </div>

        <!-- League Tabs -->
        <div class="mb-8">
            <div class="flex justify-center space-x-2 md:space-x-8 border-b border-gray-200">
                <button class="tab-button active" data-league="ALL">
                    <span>ALL</span>
                </button>
                <button class="tab-button" data-league="NFL">
                    <span>NFL</span>
                </button>
                <button class="tab-button" data-league="NBA">
                    <span>NBA</span>
                </button>
                <button class="tab-button" data-league="MLB">
                    <span>MLB</span>
                </button>
                <button class="tab-button" data-league="NHL">
                    <span>NHL</span>
                </button>
            </div>
        </div>

        <!-- Search/Filter -->
        <div class="mb-8 flex justify-center">
            <div class="relative w-full md:w-1/2">
                <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                <input type="text" 
                       id="teamSearch" 
                       placeholder="Search for your team..." 
                       class="w-full pl-10 pr-4 py-2 rounded-xl border border-gray-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200">
            </div>
        </div>

        <!-- League Tables -->
        <div id="NFL-content" class="league-content">
            <!-- Table for desktop -->
            <div class="hidden md:block overflow-visible bg-white rounded-xl shadow-lg border border-gray-100 mt-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-4 ml-4 mx-auto">NFL</h2>
                <table class="min-w-full table-auto">
                    <thead>
                        <tr class="bg-gray-50 border-b border-gray-200">
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Team Name <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Championships <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Expected 
                                <span class="tooltip">
                                    <i class="fas fa-info-circle ml-1 text-gray-400"></i>
                                    <span class="tooltip-text">Expected championships based on team's time in league and number of competing teams each year (1/N teams chance)</span>
                                </span>
                                <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Difference <i class="fas fa-sort ml-1"></i>
                            </th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-100">
                    </tbody>
                </table>
            </div>
            <!-- Cards for mobile -->
            <div class="md:hidden space-y-4 mt-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-4 ml-4 mx-auto">NFL</h2>
            </div>
        </div>

        <!-- Repeat for other leagues, but remove 'hidden' class -->
        <div id="NBA-content" class="league-content">
            <!-- Table for desktop -->
            <div class="hidden md:block overflow-visible bg-white rounded-xl shadow-lg border border-gray-100 mt-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-4 ml-4 mx-auto">NBA</h2>
                <table class="min-w-full table-auto">
                    <thead>
                        <tr class="bg-gray-50 border-b border-gray-200">
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Team Name <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Championships <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Expected 
                                <span class="tooltip">
                                    <i class="fas fa-info-circle ml-1 text-gray-400"></i>
                                    <span class="tooltip-text">Expected championships based on team's time in league and number of competing teams each year (1/N teams chance)</span>
                                </span>
                                <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Difference <i class="fas fa-sort ml-1"></i>
                            </th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-100">
                    </tbody>
                </table>
            </div>
            <!-- Cards for mobile -->
            <div class="md:hidden space-y-4 mt-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-4 ml-4 mx-auto">NBA</h2>
            </div>
        </div>

        <div id="MLB-content" class="league-content">
            <!-- Table for desktop -->
            <div class="hidden md:block overflow-visible bg-white rounded-xl shadow-lg border border-gray-100 mt-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-4 ml-4 mx-auto">MLB</h2>
                <table class="min-w-full table-auto">
                    <thead>
                        <tr class="bg-gray-50 border-b border-gray-200">
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Team Name <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Championships <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Expected 
                                <span class="tooltip">
                                    <i class="fas fa-info-circle ml-1 text-gray-400"></i>
                                    <span class="tooltip-text">Expected championships based on team's time in league and number of competing teams each year (1/N teams chance)</span>
                                </span>
                                <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Difference <i class="fas fa-sort ml-1"></i>
                            </th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-100">
                    </tbody>
                </table>
            </div>
            <!-- Cards for mobile -->
            <div class="md:hidden space-y-4 mt-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-4 ml-4 mx-auto">MLB</h2>
            </div>
        </div>

        <div id="NHL-content" class="league-content">
            <!-- Table for desktop -->
            <div class="hidden md:block overflow-visible bg-white rounded-xl shadow-lg border border-gray-100 mt-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-4 ml-4 mx-auto">NHL</h2>
                <table class="min-w-full table-auto">
                    <thead>
                        <tr class="bg-gray-50 border-b border-gray-200">
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Team Name <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Championships <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Expected 
                                <span class="tooltip">
                                    <i class="fas fa-info-circle ml-1 text-gray-400"></i>
                                    <span class="tooltip-text">Expected championships based on team's time in league and number of competing teams each year (1/N teams chance)</span>
                                </span>
                                <i class="fas fa-sort ml-1"></i>
                            </th>
                            <th class="cursor-pointer px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider hover:bg-gray-100 transition duration-200">
                                Difference <i class="fas fa-sort ml-1"></i>
                            </th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-100">
                    </tbody>
                </table>
            </div>
            <!-- Cards for mobile -->
            <div class="md:hidden space-y-4 mt-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 mt-4 ml-4 mx-auto">NHL</h2>
            </div>
        </div>
    </main>

    <!-- Data Source Info -->
    <div class="text-center text-sm text-gray-500 py-4">
        Data sourced from official league records. Last updated: January 2025
    </div>

    <div id="bottom-ad-placeholder" class="mb-8"></div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200">
        <div class="container mx-auto px-4 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
                <div class="text-gray-600 text-sm">
                    Â© 2025 YourTeamsMid.com | 
                    <button class="text-blue-600 hover:text-blue-800 transition-colors" onclick="showModal('privacyModal')">Privacy Policy</button> | 
                    <button class="text-blue-600 hover:text-blue-800 transition-colors" onclick="showModal('termsModal')">Terms of Use</button>
                </div>
                <div class="flex space-x-6">
                    <a href="https://twitter.com/yourteamsmid" target="_blank" rel="noopener noreferrer" 
                       class="text-gray-600 hover:text-blue-500 transition-colors">
                        <i class="fab fa-twitter text-xl"></i>
                        <span class="sr-only">Twitter</span>
                    </a>
                    <a href="mailto:contact@yourteamsmid.com"
                       class="text-gray-600 hover:text-red-500 transition-colors">
                        <i class="fas fa-envelope text-xl"></i>
                        <span class="sr-only">Email</span>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal/Lightbox Templates -->
    <div id="privacyModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-start mb-6">
                <h2 class="text-2xl font-bold text-gray-900">Privacy Policy</h2>
                <button class="text-gray-500 hover:text-gray-700 modal-close">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="prose">
                <p class="mb-4">Last updated: January 2025</p>
                
                <h3 class="text-xl font-semibold mb-2">Information Collection</h3>
                <p class="mb-4">YourTeamsMid.com does not collect, store, or process any personal information from its users. Our website is purely informational and displays publicly available sports statistics.</p>
                
                <h3 class="text-xl font-semibold mb-2">Data Usage</h3>
                <p class="mb-4">The data displayed on our website is sourced from publicly available sports records and statistics. We do not track user behavior, use cookies, or collect any user data.</p>
                
                <h3 class="text-xl font-semibold mb-2">Third-Party Services</h3>
                <p class="mb-4">Our website may use basic third-party services for hosting and content delivery. These services may collect standard technical information such as server logs, but we do not have access to or control over this information.</p>
                
                <h3 class="text-xl font-semibold mb-2">Contact</h3>
                <p>If you have any questions about this Privacy Policy, please contact us at contact@yourteamsmid.com.</p>
            </div>
        </div>
    </div>

    <div id="termsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-start mb-6">
                <h2 class="text-2xl font-bold text-gray-900">Terms of Use</h2>
                <button class="text-gray-500 hover:text-gray-700 modal-close">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="prose">
                <p class="mb-4">Last updated: January 2025</p>
                
                <h3 class="text-xl font-semibold mb-2">Acceptance of Terms</h3>
                <p class="mb-4">By accessing YourTeamsMid.com, you agree to be bound by these Terms of Use. If you do not agree to these terms, please do not use the website.</p>
                
                <h3 class="text-xl font-semibold mb-2">Use of Content</h3>
                <p class="mb-4">All content on this website is for informational purposes only. The statistics and data presented are sourced from publicly available sports records.</p>
                
                <h3 class="text-xl font-semibold mb-2">Accuracy of Information</h3>
                <p class="mb-4">While we strive to keep the information on YourTeamsMid.com accurate and up-to-date, we make no representations or warranties about the completeness, reliability, or accuracy of this information.</p>
                
                <h3 class="text-xl font-semibold mb-2">Intellectual Property</h3>
                <p class="mb-4">Team names, logos, and related information may be protected by trademarks and copyrights owned by their respective sports leagues and organizations.</p>
                
                <h3 class="text-xl font-semibold mb-2">Limitation of Liability</h3>
                <p class="mb-4">YourTeamsMid.com shall not be liable for any direct, indirect, incidental, consequential, or punitive damages arising from your use of the website.</p>
                
                <h3 class="text-xl font-semibold mb-2">Changes to Terms</h3>
                <p>We reserve the right to modify these terms at any time. Continued use of the website after any changes constitutes acceptance of the modified terms.</p>
            </div>
        </div>
    </div>

    <!-- Add this new modal template right before the closing </body> tag -->
    <div id="teamModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-2xl mx-4">
            <div class="flex justify-between items-start mb-6">
                <h2 id="teamModalTitle" class="text-2xl font-bold text-gray-900"></h2>
                <button class="text-gray-500 hover:text-gray-700 modal-close">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="teamModalContent" class="prose">
                <!-- Team data will be inserted here -->
            </div>
        </div>
    </div>

    <script src="happyhopperad.js"></script>

    <script>
        const nfl_data = [
    {"Team": "Pittsburgh Steelers", "Championships": 6, "Expected": 1.98553793, "Difference": 4.01446207},
    {"Team": "New England Patriots", "Championships": 6, "Expected": 1.98553793, "Difference": 4.01446207},
    {"Team": "Dallas Cowboys", "Championships": 5, "Expected": 1.98553793, "Difference": 3.01446207},
    {"Team": "San Francisco 49ers", "Championships": 5, "Expected": 1.98553793, "Difference": 3.01446207},
    {"Team": "New York Giants", "Championships": 4, "Expected": 1.98553793, "Difference": 2.01446207},
    {"Team": "Green Bay Packers", "Championships": 4, "Expected": 1.98553793, "Difference": 2.01446207},
    {"Team": "Kansas City Chiefs", "Championships": 4, "Expected": 1.98553793, "Difference": 2.01446207},
    {"Team": "Baltimore Ravens", "Championships": 2, "Expected": 0.8842741935, "Difference": 1.115725806},
    {"Team": "Washington Commanders", "Championships": 3, "Expected": 1.98553793, "Difference": 1.01446207},
    {"Team": "Denver Broncos", "Championships": 3, "Expected": 1.98553793, "Difference": 1.01446207},
    {"Team": "Las Vegas Raiders", "Championships": 3, "Expected": 1.98553793, "Difference": 1.01446207},
    {"Team": "Tampa Bay Buccaneers", "Championships": 2, "Expected": 1.596178955, "Difference": 0.4038210445},
    {"Team": "Indianapolis Colts", "Championships": 2, "Expected": 1.98553793, "Difference": 0.01446207019},
    {"Team": "Los Angeles Rams", "Championships": 2, "Expected": 1.98553793, "Difference": 0.01446207019},
    {"Team": "Miami Dolphins", "Championships": 2, "Expected": 1.98553793, "Difference": 0.01446207019},
    {"Team": "Seattle Seahawks", "Championships": 1, "Expected": 1.596178955, "Difference": -0.5961789555},
    {"Team": "Houston Texans", "Championships": 0, "Expected": 0.6875, "Difference": -0.6875},
    {"Team": "Jacksonville Jaguars", "Championships": 0, "Expected": 0.9176075269, "Difference": -0.9176075269},
    {"Team": "Carolina Panthers", "Championships": 0, "Expected": 0.9176075269, "Difference": -0.9176075269},
    {"Team": "New Orleans Saints", "Championships": 1, "Expected": 1.943871263, "Difference": -0.9438712631},
    {"Team": "Philadelphia Eagles", "Championships": 1, "Expected": 1.98553793, "Difference": -0.9855379298},
    {"Team": "Chicago Bears", "Championships": 1, "Expected": 1.98553793, "Difference": -0.9855379298},
    {"Team": "New York Jets", "Championships": 1, "Expected": 1.98553793, "Difference": -0.9855379298},
    {"Team": "Cleveland Browns", "Championships": 0, "Expected": 1.88553793, "Difference": -1.88553793},
    {"Team": "Cincinnati Bengals", "Championships": 0, "Expected": 1.903871263, "Difference": -1.903871263},
    {"Team": "Arizona Cardinals", "Championships": 0, "Expected": 1.98553793, "Difference": -1.98553793},
    {"Team": "Atlanta Falcons", "Championships": 0, "Expected": 1.98553793, "Difference": -1.98553793},
    {"Team": "Detroit Lions", "Championships": 0, "Expected": 1.98553793, "Difference": -1.98553793},
    {"Team": "Minnesota Vikings", "Championships": 0, "Expected": 1.98553793, "Difference": -1.98553793},
    {"Team": "Buffalo Bills", "Championships": 0, "Expected": 1.98553793, "Difference": -1.98553793},
    {"Team": "Tennessee Titans", "Championships": 0, "Expected": 1.98553793, "Difference": -1.98553793},
    {"Team": "Los Angeles Chargers", "Championships": 0, "Expected": 1.98553793, "Difference": -1.98553793}
]

    const nba_data = [
    {"Team": "Boston Celtics", "Expected": 4.618226513, "Championships": 18, "Difference": 13.38177349},
    {"Team": "New York Knicks", "Expected": 4.618226513, "Championships": 2, "Difference": -2.618226513},
    {"Team": "Golden State Warriors", "Expected": 4.618226513, "Championships": 7, "Difference": 2.381773487},
    {"Team": "Detroit Pistons", "Expected": 4.402317422, "Championships": 3, "Difference": -1.402317422},
    {"Team": "Los Angeles Lakers", "Expected": 4.402317422, "Championships": 17, "Difference": 12.59768258},
    {"Team": "Sacramento Kings", "Expected": 4.402317422, "Championships": 1, "Difference": -3.402317422},
    {"Team": "Philadelphia 76ers", "Expected": 4.318984088, "Championships": 3, "Difference": -1.318984088},
    {"Team": "Atlanta Hawks", "Expected": 4.318984088, "Championships": 1, "Difference": -3.318984088},
    {"Team": "Washington Wizards", "Expected": 3.055852775, "Championships": 1, "Difference": -2.055852775},
    {"Team": "Chicago Bulls", "Expected": 2.44147369, "Championships": 6, "Difference": 3.55852631},
    {"Team": "Houston Rockets", "Expected": 2.34147369, "Championships": 2, "Difference": -0.3414736902},
    {"Team": "Oklahoma City Thunder", "Expected": 2.34147369, "Championships": 1, "Difference": -1.34147369},
    {"Team": "Milwaukee Bucks", "Expected": 2.258140357, "Championships": 2, "Difference": -0.2581403569},
    {"Team": "Phoenix Suns", "Expected": 2.258140357, "Championships": 0, "Difference": -2.258140357},
    {"Team": "Cleveland Cavaliers", "Expected": 2.115283214, "Championships": 1, "Difference": -1.115283214},
    {"Team": "Portland Trail Blazers", "Expected": 2.115283214, "Championships": 1, "Difference": -1.115283214},
    {"Team": "Los Angeles Clippers", "Expected": 2.115283214, "Championships": 0, "Difference": -2.115283214},
    {"Team": "Utah Jazz", "Expected": 1.879989096, "Championships": 0, "Difference": -1.879989096},
    {"Team": "San Antonio Spurs", "Expected": 1.768877985, "Championships": 5, "Difference": 3.231122015},
    {"Team": "Indiana Pacers", "Expected": 1.768877985, "Championships": 0, "Difference": -1.768877985},
    {"Team": "Denver Nuggets", "Expected": 1.768877985, "Championships": 1, "Difference": -0.7688779852},
    {"Team": "Brooklyn Nets", "Expected": 1.768877985, "Championships": 0, "Difference": -1.768877985},
    {"Team": "Dallas Mavericks", "Expected": 1.587059803, "Championships": 1, "Difference": -0.5870598034},
    {"Team": "Charlotte Hornets", "Expected": 1.170268199, "Championships": 0, "Difference": -1.170268199},
    {"Team": "Miami Heat", "Expected": 1.239233716, "Championships": 3, "Difference": 1.760766284},
    {"Team": "Minnesota Timberwolves", "Expected": 1.199233716, "Championships": 0, "Difference": -1.199233716},
    {"Team": "Orlando Magic", "Expected": 1.199233716, "Championships": 0, "Difference": -1.199233716},
    {"Team": "Toronto Raptors", "Expected": 0.9770114943, "Championships": 1, "Difference": 0.02298850575},
    {"Team": "Memphis Grizzlies", "Expected": 0.9770114943, "Championships": 0, "Difference": -0.9770114943},
    {"Team": "New Orleans Pelicans", "Expected": 0.7356321839, "Championships": 0, "Difference": -0.7356321839}
]

    const mlb_data = [
    {"Team": "New York Yankees", "Expected": 5.959630647, "Championships": 27, "Difference": 21.04036935},
    {"Team": "St. Louis Cardinals", "Expected": 5.959630647, "Championships": 11, "Difference": 5.040369353},
    {"Team": "Boston Red Sox", "Expected": 5.959630647, "Championships": 9, "Difference": 3.040369353},
    {"Team": "Athletics", "Expected": 5.959630647, "Championships": 9, "Difference": 3.040369353},
    {"Team": "Los Angeles Dodgers", "Expected": 5.959630647, "Championships": 8, "Difference": 2.040369353},
    {"Team": "San Francisco Giants", "Expected": 5.959630647, "Championships": 8, "Difference": 2.040369353},
    {"Team": "Cincinnati Reds", "Expected": 5.959630647, "Championships": 5, "Difference": -0.9596306471},
    {"Team": "Pittsburgh Pirates", "Expected": 5.959630647, "Championships": 5, "Difference": -0.9596306471},
    {"Team": "Detroit Tigers", "Expected": 5.959630647, "Championships": 4, "Difference": -1.959630647},
    {"Team": "Atlanta Braves", "Expected": 5.959630647, "Championships": 4, "Difference": -1.959630647},
    {"Team": "Chicago Cubs", "Expected": 5.959630647, "Championships": 3, "Difference": -2.959630647},
    {"Team": "Baltimore Orioles", "Expected": 5.959630647, "Championships": 3, "Difference": -2.959630647},
    {"Team": "Minnesota Twins", "Expected": 5.959630647, "Championships": 3, "Difference": -2.959630647},
    {"Team": "Chicago White Sox", "Expected": 5.959630647, "Championships": 3, "Difference": -2.959630647},
    {"Team": "Philadelphia Phillies", "Expected": 5.959630647, "Championships": 2, "Difference": -3.959630647},
    {"Team": "Cleveland Guardians", "Expected": 5.959630647, "Championships": 2, "Difference": -3.959630647},
    {"Team": "New York Mets", "Expected": 2.341575092, "Championships": 2, "Difference": -0.3415750916},
    {"Team": "Houston Astros", "Expected": 2.341575092, "Championships": 2, "Difference": -0.3415750916},
    {"Team": "Kansas City Royals", "Expected": 1.991575092, "Championships": 2, "Difference": 0.008424908425},
    {"Team": "Toronto Blue Jays", "Expected": 1.658241758, "Championships": 2, "Difference": 0.3417582418},
    {"Team": "Miami Marlins", "Expected": 1.042857143, "Championships": 2, "Difference": 0.9571428571},
    {"Team": "Texas Rangers", "Expected": 2.397130647, "Championships": 1, "Difference": -1.397130647},
    {"Team": "Los Angeles Angels", "Expected": 2.397130647, "Championships": 1, "Difference": -1.397130647},
    {"Team": "Washington Nationals", "Expected": 1.991575092, "Championships": 1, "Difference": -0.9915750916},
    {"Team": "Arizona Diamondbacks", "Expected": 0.9, "Championships": 1, "Difference": 0.1},
    {"Team": "San Diego Padres", "Expected": 1.991575092, "Championships": 0, "Difference": -1.991575092},
    {"Team": "Milwaukee Brewers", "Expected": 1.991575092, "Championships": 0, "Difference": -1.991575092},
    {"Team": "Seattle Mariners", "Expected": 1.658241758, "Championships": 0, "Difference": -1.658241758},
    {"Team": "Colorado Rockies", "Expected": 1.042857143, "Championships": 0, "Difference": -1.042857143},
    {"Team": "Tampa Bay Rays", "Expected": 0.9, "Championships": 0, "Difference": -0.9}
]


    const nhl_data = [
    {"Team": "Montreal Canadiens", "Championships": 22, "Expected": 8.522256858, "Difference": 13.47774314},
    {"Team": "Edmonton Oilers", "Championships": 5, "Expected": 1.909161619, "Difference": 3.090838381},
    {"Team": "Pittsburgh Penguins", "Championships": 5, "Expected": 2.427018762, "Difference": 2.572981238},
    {"Team": "Toronto Maple Leafs", "Championships": 11, "Expected": 8.522256858, "Difference": 2.477743142},
    {"Team": "Detroit Red Wings", "Championships": 11, "Expected": 8.522256858, "Difference": 2.477743142},
    {"Team": "New York Islanders", "Championships": 4, "Expected": 2.034161619, "Difference": 1.965838381},
    {"Team": "Tampa Bay Lightning", "Championships": 3, "Expected": 1.062841273, "Difference": 1.937158727},
    {"Team": "New Jersey Devils", "Championships": 3, "Expected": 1.909161619, "Difference": 1.090838381},
    {"Team": "Colorado Avalanche", "Championships": 3, "Expected": 1.909161619, "Difference": 1.090838381},
    {"Team": "Vegas Golden Knights", "Championships": 1, "Expected": 0.2227822581, "Difference": 0.7772177419},
    {"Team": "Anaheim Ducks", "Championships": 1, "Expected": 1.021174606, "Difference": -0.02117460646},
    {"Team": "Florida Panthers", "Championships": 1, "Expected": 1.021174606, "Difference": -0.02117460646},
    {"Team": "Seattle Kraken", "Championships": 0, "Expected": 0.09375, "Difference": -0.09375},
    {"Team": "Philadelphia Flyers", "Championships": 2, "Expected": 2.427018762, "Difference": -0.4270187623},
    {"Team": "Los Angeles Kings", "Championships": 2, "Expected": 2.427018762, "Difference": -0.4270187623},
    {"Team": "Columbus Blue Jackets", "Championships": 0, "Expected": 0.7561155914, "Difference": -0.7561155914},
    {"Team": "Minnesota Wild", "Championships": 0, "Expected": 0.7561155914, "Difference": -0.7561155914},
    {"Team": "Winnipeg Jets", "Championships": 0, "Expected": 0.7918298771, "Difference": -0.7918298771},
    {"Team": "Nashville Predators", "Championships": 0, "Expected": 0.8288669141, "Difference": -0.8288669141},
    {"Team": "Washington Capitals", "Championships": 1, "Expected": 1.909161619, "Difference": -0.9091616194},
    {"Team": "Carolina Hurricanes", "Championships": 1, "Expected": 1.909161619, "Difference": -0.9091616194},
    {"Team": "Calgary Flames", "Championships": 1, "Expected": 2.034161619, "Difference": -1.034161619},
    {"Team": "Ottawa Senators", "Championships": 0, "Expected": 1.062841273, "Difference": -1.062841273},
    {"Team": "San Jose Sharks", "Championships": 0, "Expected": 1.108295819, "Difference": -1.108295819},
    {"Team": "Dallas Stars", "Championships": 1, "Expected": 2.427018762, "Difference": -1.427018762},
    {"Team": "St. Louis Blues", "Championships": 1, "Expected": 2.427018762, "Difference": -1.427018762},
    {"Team": "Arizona Coyotes", "Championships": 0, "Expected": 1.909161619, "Difference": -1.909161619},
    {"Team": "Buffalo Sabres", "Championships": 0, "Expected": 2.177018762, "Difference": -2.177018762},
    {"Team": "Vancouver Canucks", "Championships": 0, "Expected": 2.177018762, "Difference": -2.177018762},
    {"Team": "Boston Bruins", "Championships": 6, "Expected": 8.522256858, "Difference": -2.522256858},
    {"Team": "Chicago Blackhawks", "Championships": 6, "Expected": 8.522256858, "Difference": -2.522256858},
    {"Team": "New York Rangers", "Championships": 4, "Expected": 8.522256858, "Difference": -4.522256858}
]





    </script>

    <script>
        // Calculate and add difference to each team
        nfl_data.forEach(team => {
            team.Difference = team.Championships - team.Expected;
        });

        // League data objects
        const leagueData = {
            NFL: nfl_data,
            NBA: nba_data, // Add NBA data when available
            MLB: mlb_data, // Add MLB data when available
            NHL: nhl_data  // Add NHL data when available
        };

        let currentLeague = 'NFL';

        // Function to show selected league content and hide others
        function showLeague(leagueId) {
            // If ALL is selected, show all leagues
            if (leagueId === 'ALL') {
                document.querySelectorAll('.league-content').forEach(content => {
                    content.classList.remove('hidden');
                });
                return;
            }

            // Otherwise, hide all except selected
            document.querySelectorAll('.league-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(`${leagueId}-content`).classList.remove('hidden');
        }

        // Tab switching functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                // Update active tab
                document.querySelectorAll('.tab-button').forEach(btn => 
                    btn.classList.remove('active'));
                button.classList.add('active');

                // Show selected league content
                const league = button.dataset.league;
                showLeague(league);
            });
        });

        // Initial state - show all leagues and activate ALL tab
        showLeague('ALL');
        document.querySelector('[data-league="ALL"]').classList.add('active');

        // Modified generate content function
        function generateContent(data = leagueData[currentLeague], league = currentLeague) {
            // Sort data by Difference in descending order by default
            if (data && data.length > 0) {
                data.sort((a, b) => b.Difference - a.Difference);
            }

            // Generate table rows
            const tbody = document.querySelector(`#${league}-content tbody`);
            tbody.innerHTML = '';
            
            // Generate mobile cards - create a container for cards only
            const mobileContainer = document.querySelector(`#${league}-content .md\\:hidden`);
            const cardsContainer = mobileContainer.querySelector('.cards-container') || 
                (() => {
                    const div = document.createElement('div');
                    div.className = 'cards-container space-y-4';
                    mobileContainer.appendChild(div);
                    return div;
                })();
            
            cardsContainer.innerHTML = '';

            if (!data || data.length === 0) {
                const message = `<tr><td colspan="4" class="px-6 py-4 text-center text-gray-500">Data coming soon for ${league}</td></tr>`;
                tbody.insertAdjacentHTML('beforeend', message);
                cardsContainer.insertAdjacentHTML('beforeend', 
                    `<div class="bg-white rounded-xl p-4 text-center text-gray-500">Data coming soon for ${league}</div>`
                );
                return;
            }
            
            data.forEach(team => {
                // Table row
                const row = `
                    <tr class="hover:bg-gray-50 transition duration-150">
                        <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">
                            <div class="flex items-center">
                                <img src="${getTeamLogo(team.Team, league)}" 
                                     alt="${team.Team} logo" 
                                     class="w-8 h-8 mr-3 object-contain">
                                ${team.Team}
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-gray-700">${team.Championships}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-gray-700">${team.Expected.toFixed(2)}</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium ${team.Difference >= 0 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                                ${team.Difference >= 0 ? '+' : ''}${team.Difference.toFixed(2)}
                            </span>
                        </td>
                    </tr>
                `;
                tbody.insertAdjacentHTML('beforeend', row);
                
                // Mobile card
                const card = `
                    <div class="bg-white rounded-xl shadow-lg border border-gray-100 p-4 hover:bg-gray-50 transition duration-150">
                        <div class="flex justify-between items-center mb-2">
                            <div class="flex items-center">
                                <img src="${getTeamLogo(team.Team, league)}" 
                                     alt="${team.Team} logo" 
                                     class="w-8 h-8 mr-3 object-contain">
                                <h3 class="font-medium text-gray-900">${team.Team}</h3>
                            </div>
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium ${team.Difference >= 0 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                                ${team.Difference >= 0 ? '+' : ''}${team.Difference.toFixed(2)}
                            </span>
                        </div>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div>
                                <p class="text-gray-500">Championships</p>
                                <p class="font-medium text-gray-700">${team.Championships}</p>
                            </div>
                            <div>
                                <p class="text-gray-500">Expected</p>
                                <p class="font-medium text-gray-700">${team.Expected.toFixed(2)}</p>
                            </div>
                        </div>
                    </div>
                `;
                cardsContainer.insertAdjacentHTML('beforeend', card);
            });
        }

        // Initial content generation for all leagues
        Object.keys(leagueData).forEach(league => {
            generateContent(leagueData[league], league);
        });

        // Show all leagues initially (don't call showLeague)
        
        // Update search functionality to work with both table and cards
        document.getElementById('teamSearch').addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            
            // For each league section
            document.querySelectorAll('.league-content').forEach(leagueSection => {
                let hasVisibleTeams = false;
                
                // Search in desktop table
                const tableRows = leagueSection.querySelectorAll('tbody tr');
                tableRows.forEach(row => {
                    const teamName = row.querySelector('td')?.textContent.toLowerCase() || '';
                    const isVisible = teamName.includes(searchTerm);
                    row.style.display = isVisible ? '' : 'none';
                    if (isVisible) hasVisibleTeams = true;
                });
                
                // Search in mobile cards
                const cards = leagueSection.querySelectorAll('.cards-container > div');
                cards.forEach(card => {
                    const teamName = card.querySelector('h3')?.textContent.toLowerCase() || '';
                    const isVisible = teamName.includes(searchTerm);
                    card.style.display = isVisible ? '' : 'none';
                    if (isVisible) hasVisibleTeams = true;
                });
                
                // Show/hide entire league section based on results
                leagueSection.style.display = hasVisibleTeams ? '' : 'none';
            });
        });

        // Table sorting functionality
        document.querySelectorAll('th').forEach(headerCell => {
            headerCell.addEventListener('click', () => {
                const tableBody = headerCell.closest('table').querySelector('tbody');
                const rows = Array.from(tableBody.querySelectorAll('tr'));
                const columnIndex = Array.from(headerCell.parentElement.children).indexOf(headerCell);
                const isNumeric = columnIndex > 0; // First column is team name, rest are numbers
                
                // Get current sort direction
                const currentDirection = headerCell.getAttribute('data-sort') || 'none';
                
                // Update sort direction
                const newDirection = currentDirection === 'asc' ? 'desc' : 'asc';
                
                // Reset all headers
                headerCell.closest('tr').querySelectorAll('th').forEach(th => {
                    th.setAttribute('data-sort', 'none');
                });
                
                // Set new sort direction
                headerCell.setAttribute('data-sort', newDirection);
                
                // Sort rows
                rows.sort((rowA, rowB) => {
                    const cellA = rowA.children[columnIndex].textContent.trim();
                    const cellB = rowB.children[columnIndex].textContent.trim();
                    
                    if (isNumeric) {
                        const numA = parseFloat(cellA);
                        const numB = parseFloat(cellB);
                        return newDirection === 'asc' ? numA - numB : numB - numA;
                    } else {
                        return newDirection === 'asc' 
                            ? cellA.localeCompare(cellB) 
                            : cellB.localeCompare(cellA);
                    }
                });
                
                // Clear and re-append rows
                rows.forEach(row => tableBody.appendChild(row));
                
                // Update sort icons
                headerCell.closest('tr').querySelectorAll('th i.fas.fa-sort').forEach(icon => {
                    icon.className = 'fas fa-sort ml-1';
                });
                
                const icon = headerCell.querySelector('i.fas.fa-sort');
                if (icon) {
                    icon.className = `fas fa-sort-${newDirection === 'asc' ? 'up' : 'down'} ml-1`;
                }
            });
        });

        // Initialize tables with default sort (Difference column, descending)
        document.querySelectorAll('table').forEach(table => {
            const differenceHeader = Array.from(table.querySelectorAll('th'))
                .find(th => th.textContent.trim().startsWith('Difference'));
            if (differenceHeader) {
                differenceHeader.click(); // Sort by difference descending
                differenceHeader.click(); // Click again to make it descending
            }
        });

        // Modal functionality
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            // Prevent body scroll when modal is open
            document.body.style.overflow = 'hidden';
        }

        // Close modal when clicking close button or outside
        document.querySelectorAll('.modal-close').forEach(button => {
            button.addEventListener('click', (e) => {
                const modal = e.target.closest('.fixed');
                modal.classList.add('hidden');
                modal.classList.remove('flex');
                document.body.style.overflow = '';
            });
        });

        // Close modal when clicking outside
        document.querySelectorAll('#privacyModal, #termsModal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                    document.body.style.overflow = '';
                }
            });
        });

        // Close modal on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('#privacyModal, #termsModal').forEach(modal => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                    document.body.style.overflow = '';
                });
            }
        });

        // How it Works toggle functionality
        function toggleHowItWorks() {
            const content = document.getElementById('howItWorksContent');
            const icon = document.getElementById('howItWorksIcon');
            
            content.classList.toggle('hidden');
            icon.style.transform = content.classList.contains('hidden') ? '' : 'rotate(180deg)';
        }

        // Add these new functions
        function showTeamModal(teamData) {
            const modal = document.getElementById('teamModal');
            const title = document.getElementById('teamModalTitle');
            const content = document.getElementById('teamModalContent');
            
            // Determine which league the team is from
            let league = '';
            for (const [key, teams] of Object.entries(leagueData)) {
                if (teams.find(t => t.Team === teamData.Team)) {
                    league = key;
                    break;
                }
            }
            
            // Add logo to title
            title.innerHTML = `
                <div class="flex items-center">
                    <img src="${getTeamLogo(teamData.Team, league)}" 
                         alt="${teamData.Team} logo" 
                         class="w-10 h-10 mr-3 object-contain">
                    <span>${teamData.Team}</span>
                </div>
            `;
            
            content.innerHTML = `
                <div class="grid grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold mb-2">Championships</h3>
                        <p class="text-3xl font-bold">${teamData.Championships}</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-2">Expected</h3>
                        <p class="text-3xl font-bold">${teamData.Expected.toFixed(2)}</p>
                    </div>
                </div>
                <div class="mt-6 grid grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold mb-2">Performance</h3>
                        <p class="text-3xl font-bold ${teamData.Difference >= 0 ? 'text-green-600' : 'text-red-600'}">
                            ${teamData.Difference >= 0 ? '+' : ''}${teamData.Difference.toFixed(2)}
                        </p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-2">Your Team</h3>
                        <p class="text-3xl font-bold ${
                            teamData.Difference > 5 ? 'text-purple-600' : 
                            teamData.Difference > 1 ? 'text-green-600' :
                            teamData.Difference > -1 ? 'text-yellow-600' :
                            teamData.Difference > -2 ? 'text-orange-600' :
                            'text-red-600'
                        }">
                            ${
                                teamData.Difference > 5 ? "Really Doesn't Suck" :
                                teamData.Difference > 1 ? "Doesn't Suck" :
                                teamData.Difference > -1 ? 'Mid' :
                                teamData.Difference > -2 ? 'Kinda Sucks' :
                                teamData.Difference > -4 ? 'Really Sucks' :
                                'Sucks More Than Potvin'
                            }
                        </p>
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function findTeamByUrlHash() {
            const hash = decodeURIComponent(window.location.hash.slice(1)).toLowerCase();
            if (!hash) return;
            
            // Search through all league data
            for (const league in leagueData) {
                const team = leagueData[league].find(t => 
                    t.Team.toLowerCase()
                        .replace(/[^a-z0-9]+/g, '-')
                        .replace(/^-+|-+$/g, '') === hash
                );
                if (team) {
                    showTeamModal(team);
                    break;
                }
            }
        }

        // Add click handlers to team names to update URL and show modal
        function addTeamClickHandlers() {
            document.querySelectorAll('tbody tr').forEach(row => {
                const teamName = row.querySelector('td').textContent.trim();
                row.style.cursor = 'pointer';
                row.addEventListener('click', () => {
                    const urlHash = teamName.toLowerCase()
                        .replace(/[^a-z0-9]+/g, '-') // Replace any non-alphanumeric sequences with a single dash
                        .replace(/^-+|-+$/g, '');    // Remove dashes from start and end
                    window.location.hash = urlHash;
                    const team = Object.values(leagueData)
                        .flat()
                        .find(t => t.Team === teamName);
                    if (team) showTeamModal(team);
                });
            });
            
            // Update mobile card handlers too
            document.querySelectorAll('.cards-container > div').forEach(card => {
                const teamName = card.querySelector('h3').textContent.trim();
                card.style.cursor = 'pointer';
                card.addEventListener('click', () => {
                    const urlHash = teamName.toLowerCase()
                        .replace(/[^a-z0-9]+/g, '-')
                        .replace(/^-+|-+$/g, '');
                    window.location.hash = urlHash;
                    const team = Object.values(leagueData)
                        .flat()
                        .find(t => t.Team === teamName);
                    if (team) showTeamModal(team);
                });
            });
        }

        // Call this after generating content
        document.addEventListener('DOMContentLoaded', () => {
            addTeamClickHandlers();
            findTeamByUrlHash();
        });

        // Handle hash changes
        window.addEventListener('hashchange', findTeamByUrlHash);

        // Modify the generateContent function to re-add click handlers
        const originalGenerateContent = generateContent;
        generateContent = function(...args) {
            originalGenerateContent.apply(this, args);
            addTeamClickHandlers();
        };

        function getTeamLogo(teamName, league) {
            // Default to a placeholder if no match is found
            let logoUrl = 'https://via.placeholder.com/50';
            
            switch(league) {
                case 'NFL':
                    // NFL logos can be accessed through NFL's CDN
                    const nflTeamAbbr = {
                        'Pittsburgh Steelers': 'PIT',
                        'New England Patriots': 'NE',
                        'Dallas Cowboys': 'DAL',
                        'San Francisco 49ers': 'SF',
                        'New York Giants': 'NYG',
                        'Green Bay Packers': 'GB',
                        'Kansas City Chiefs': 'KC',
                        'Baltimore Ravens': 'BAL',
                        'Washington Commanders': 'WAS',
                        'Denver Broncos': 'DEN',
                        'Las Vegas Raiders': 'LV',
                        'Tampa Bay Buccaneers': 'TB',
                        'Indianapolis Colts': 'IND',
                        'Los Angeles Rams': 'LA',
                        'Miami Dolphins': 'MIA',
                        'Seattle Seahawks': 'SEA',
                        'Houston Texans': 'HOU',
                        'Jacksonville Jaguars': 'JAX',
                        'Carolina Panthers': 'CAR',
                        'New Orleans Saints': 'NO',
                        'Philadelphia Eagles': 'PHI',
                        'Chicago Bears': 'CHI',
                        'New York Jets': 'NYJ',
                        'Cleveland Browns': 'CLE',
                        'Cincinnati Bengals': 'CIN',
                        'Arizona Cardinals': 'ARI',
                        'Atlanta Falcons': 'ATL',
                        'Detroit Lions': 'DET',
                        'Minnesota Vikings': 'MIN',
                        'Buffalo Bills': 'BUF',
                        'Tennessee Titans': 'TEN',
                        'Los Angeles Chargers': 'LAC'
                    };
                    
                    const nflAbbr = nflTeamAbbr[teamName];
                    if (nflAbbr) {
                        logoUrl = `https://static.www.nfl.com/t_q-best/league/api/clubs/logos/${nflAbbr}`;
                    }
                    break;
                    
                case 'NBA':
                    const nbaTeamAbbr = {
                        'Boston Celtics': 'BOS',
                        'New York Knicks': 'NYK',
                        'Golden State Warriors': 'GSW',
                        'Detroit Pistons': 'DET',
                        'Los Angeles Lakers': 'LAL',
                        'Sacramento Kings': 'SAC',
                        'Philadelphia 76ers': 'PHI',
                        'Atlanta Hawks': 'ATL',
                        'Washington Wizards': 'WAS',
                        'Chicago Bulls': 'CHI',
                        'Houston Rockets': 'HOU',
                        'Oklahoma City Thunder': 'OKC',
                        'Milwaukee Bucks': 'MIL',
                        'Phoenix Suns': 'PHX',
                        'Cleveland Cavaliers': 'CLE',
                        'Portland Trail Blazers': 'POR',
                        'Los Angeles Clippers': 'LAC',
                        'Utah Jazz': 'UTAH',
                        'San Antonio Spurs': 'SAS',
                        'Indiana Pacers': 'IND',
                        'Denver Nuggets': 'DEN',
                        'Brooklyn Nets': 'BKN',
                        'Dallas Mavericks': 'DAL',
                        'Charlotte Hornets': 'CHA',
                        'Miami Heat': 'MIA',
                        'Minnesota Timberwolves': 'MIN',
                        'Orlando Magic': 'ORL',
                        'Toronto Raptors': 'TOR',
                        'Memphis Grizzlies': 'MEM',
                        'New Orleans Pelicans': 'NO'
                    };
                    
                    const nbaAbbr = nbaTeamAbbr[teamName];
                    if (nbaAbbr) {
                        logoUrl = `https://a.espncdn.com/i/teamlogos/nba/500/${nbaAbbr.toLowerCase()}.png`;
                    }
                    break;
                    
                case 'MLB':
                    const mlbTeamAbbr = {
                        'New York Yankees': '147',
                        'St. Louis Cardinals': '138',
                        'Boston Red Sox': '111',
                        'Athletics': '133',
                        'Los Angeles Dodgers': '119',
                        'San Francisco Giants': '137',
                        'Cincinnati Reds': '113',
                        'Pittsburgh Pirates': '134',
                        'Detroit Tigers': '116',
                        'Atlanta Braves': '144',
                        'Chicago Cubs': '112',
                        'Baltimore Orioles': '110',
                        'Minnesota Twins': '142',
                        'Chicago White Sox': '145',
                        'Philadelphia Phillies': '143',
                        'Cleveland Guardians': '114',
                        'New York Mets': '121',
                        'Houston Astros': '117',
                        'Kansas City Royals': '118',
                        'Toronto Blue Jays': '141',
                        'Miami Marlins': '146',
                        'Texas Rangers': '140',
                        'Los Angeles Angels': '108',
                        'Washington Nationals': '120',
                        'Arizona Diamondbacks': '109',
                        'San Diego Padres': '135',
                        'Milwaukee Brewers': '158',
                        'Seattle Mariners': '136',
                        'Colorado Rockies': '115',
                        'Tampa Bay Rays': '139'
                    };
                    
                    const mlbId = mlbTeamAbbr[teamName];
                    if (mlbId) {
                        logoUrl = `https://www.mlbstatic.com/team-logos/${mlbId}.svg`;
                    }
                    break;
                    
                case 'NHL':
                    const nhlTeamAbbr = {
                        'Montreal Canadiens': 'MTL',
                        'Edmonton Oilers': 'EDM',
                        'Pittsburgh Penguins': 'PIT',
                        'Toronto Maple Leafs': 'TOR',
                        'Detroit Red Wings': 'DET',
                        'New York Islanders': 'NYI',
                        'Tampa Bay Lightning': 'TBL',
                        'New Jersey Devils': 'NJD',
                        'Colorado Avalanche': 'COL',
                        'Vegas Golden Knights': 'VGK',
                        'Anaheim Ducks': 'ANA',
                        'Florida Panthers': 'FLA',
                        'Seattle Kraken': 'SEA',
                        'Philadelphia Flyers': 'PHI',
                        'Los Angeles Kings': 'LAK',
                        'Columbus Blue Jackets': 'CBJ',
                        'Minnesota Wild': 'MIN',
                        'Winnipeg Jets': 'WPG',
                        'Nashville Predators': 'NSH',
                        'Washington Capitals': 'WSH',
                        'Carolina Hurricanes': 'CAR',
                        'Calgary Flames': 'CGY',
                        'Ottawa Senators': 'OTT',
                        'San Jose Sharks': 'SJS',
                        'Dallas Stars': 'DAL',
                        'St. Louis Blues': 'STL',
                        'Arizona Coyotes': 'ARI',
                        'Buffalo Sabres': 'BUF',
                        'Vancouver Canucks': 'VAN',
                        'Boston Bruins': 'BOS',
                        'Chicago Blackhawks': 'CHI',
                        'New York Rangers': 'NYR'
                    };
                    
                    const nhlAbbr = nhlTeamAbbr[teamName];
                    if (nhlAbbr) {
                        logoUrl = `https://assets.nhle.com/logos/nhl/svg/${nhlAbbr}_light.svg`;
                    }
                    break;
            }
            
            return logoUrl;
        }
    </script>
</body>
</html>
